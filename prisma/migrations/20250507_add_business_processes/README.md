# Миграция: Добавление модели BusinessProcess

Эта миграция добавляет поддержку модели бизнес-процессов в систему.

## Изменения

1. Создана таблица `BusinessProcess` со следующими полями:
   - `id`: Уникальный идентификатор (UUID)
   - `title`: Название процесса
   - `description`: Описание процесса (опционально)
   - `parentId`: Ссылка на родительский процесс (для иерархии)
   - `createdAt`: Дата и время создания
   - `updatedAt`: Дата и время обновления

2. Добавлено ограничение внешнего ключа для поля `parentId` с ссылкой на таблицу `BusinessProcess`

## Применение миграции

Выполните команду:
```bash
npx prisma migrate deploy
```

## После миграции

После применения миграции необходимо создать начальные бизнес-процессы через API:

```bash
# Пример создания корневого процесса
curl -X POST http://localhost:3000/api/business-processes \
  -H "Content-Type: application/json" \
  -d '{"title": "Работа с клиентами", "description": "Основные процессы взаимодействия с клиентами"}'
```

## Тестирование

Для тестирования новой функциональности используйте API:
- GET `/api/business-processes` - получение всех процессов верхнего уровня
- GET `/api/business-processes?parentId=...` - получение дочерних процессов
- GET `/api/business-processes/:id` - получение конкретного процесса
- POST `/api/business-processes` - создание нового процесса
- PUT `/api/business-processes/:id` - обновление процесса
- DELETE `/api/business-processes/:id` - удаление процесса
